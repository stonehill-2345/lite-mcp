# LiteMCP Framework å®Œæ•´ä½¿ç”¨æŒ‡å—

ä¸­æ–‡ | [English](USAGE.md)

## ğŸ¯ æ¦‚è§ˆ

ä¸€ä¸ªç®€å•çš„ Model Context Protocol (MCP) æœåŠ¡å™¨æ¡†æ¶ï¼Œä¸“ä¸ºè§£å†³å½“å‰ MCP æœåŠ¡å™¨é›†ç¾¤ä¸­èŠ‚ç‚¹åˆ†æ•£ã€ç®¡ç†æ··ä¹±ã€è®¿é—®å…¥å£ä¸ç»Ÿä¸€ç­‰é—®é¢˜è®¾è®¡ï¼Œæä¾›ç®€æ´é«˜æ•ˆçš„å·¥å…·å¼€å‘ä¸ç®¡æ§æ¨¡å¼ã€‚

## ğŸ“‹ ç›®å½•

1. [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
2. [ä»£ç†æœåŠ¡å™¨è¯¦è§£](#-ä»£ç†æœåŠ¡å™¨è¯¦è§£)
3. [å®Œæ•´å‘½ä»¤åˆ—è¡¨](#-å®Œæ•´å‘½ä»¤åˆ—è¡¨)
4. [é…ç½®æ–‡ä»¶](#-é…ç½®æ–‡ä»¶)
5. [ä¼ è¾“æ¨¡å¼è¯¦è§£](#-ä¼ è¾“æ¨¡å¼è¯¦è§£)
6. [å¼€å‘æ–°å·¥å…·](#-å¼€å‘æ–°å·¥å…·)
7. [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
8. [å¸¸è§æ“ä½œåœºæ™¯](#-å¸¸è§æ“ä½œåœºæ™¯)
9. [æ•…éšœæ’é™¤](#-æ•…éšœæ’é™¤)
10. [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 5åˆ†é’Ÿä¸Šæ‰‹LiteMCP

#### 1. ç¯å¢ƒå‡†å¤‡

**ç³»ç»Ÿè¦æ±‚**ï¼š
- Python 3.12+
- æ“ä½œç³»ç»Ÿï¼šWindowsã€macOSã€Linux

**å®‰è£…æ­¥éª¤**ï¼š
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/stonehill-2345/lite-mcp
cd lite-mcp

# å®‰è£…ä¾èµ–
poetry install

# éªŒè¯å®‰è£…
./scripts/manage.sh check
```

#### 2. æœ€ç®€å•çš„å¯åŠ¨æ–¹å¼ï¼ˆæ¨èï¼‰

**ğŸ¯ ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆåŒ…å«ä»£ç†æœåŠ¡å™¨ï¼‰**ï¼š
```bash
# ä¸€é”®å¯åŠ¨ï¼šä»£ç†æœåŠ¡å™¨ + MCPæœåŠ¡å™¨ + APIæœåŠ¡å™¨
./scripts/manage.sh up

# æŸ¥çœ‹æœåŠ¡å™¨çŠ¶æ€  
./scripts/manage.sh ps
```

#### 3. é…ç½®MCPå®¢æˆ·ç«¯

**httpé…ç½®ç¤ºä¾‹(éœ€è¦ä»¥httpæ¨¡å¼å¯åŠ¨mcp server)**ï¼š
```json
{
  "mcpServers": {
    "example-proxy-http": {
      "url": "http://{server ip}:1888/mcp/example",
      "description": "ç¤ºä¾‹MCPæœåŠ¡å™¨ï¼Œæ¼”ç¤ºåŸºæœ¬åŠŸèƒ½ (é€šè¿‡ä»£ç†HTTPè®¿é—®)"
    },
    "school-proxy-http": {
      "url": "http://{server ip}:1888/mcp/school",
      "description": "å­¦æ ¡ç®¡ç†MCPæœåŠ¡å™¨ï¼Œæä¾›å­¦ç”Ÿå’Œè¯¾ç¨‹ç®¡ç†åŠŸèƒ½ (é€šè¿‡ä»£ç†HTTPè®¿é—®)"
    },
    "school-http": {  // ä¸ä½¿ç”¨ä»£ç†æ—¶åˆ™é…ç½®å…·ä½“çš„httpç«¯å£
        "url": "http://{server ip}:8765/mcp",
        "description": "å­¦æ ¡ç®¡ç†MCPæœåŠ¡å™¨ï¼Œæä¾›å­¦ç”Ÿå’Œè¯¾ç¨‹ç®¡ç†åŠŸèƒ½ (é€šè¿‡ä»£ç†HTTPè®¿é—®)"
    }
  }
}
```
> å…·ä½“ip+ç«¯å£æ ¹æ®è‡ªå·±serverçš„å®é™…æƒ…å†µä¿®æ”¹ã€‚

**sseé…ç½®ç¤ºä¾‹(éœ€è¦ä»¥sseæ¨¡å¼å¯åŠ¨mcp server)**ï¼š
```json
{
  "mcpServers": {
    "example-proxy-sse": {
        "url": "http://{server ip}:1888/sse/example",
        "description": "ç¤ºä¾‹MCPæœåŠ¡å™¨ï¼Œæ¼”ç¤ºåŸºæœ¬åŠŸèƒ½ (é€šè¿‡ä»£ç†SSEè®¿é—®)"
    },
    "school-proxy-sse": {
        "url": "http://{server ip}:1888/sse/school",
        "description": "å­¦æ ¡ç®¡ç†MCPæœåŠ¡å™¨ï¼Œæä¾›å­¦ç”Ÿå’Œè¯¾ç¨‹ç®¡ç†åŠŸèƒ½ (é€šè¿‡ä»£ç†SSEè®¿é—®)"
    },
    "school-sse": {  // ä¸ä½¿ç”¨ä»£ç†æ—¶åˆ™é…ç½®å…·ä½“çš„sseç«¯å£
        "url": "http://{server ip}:8765/sse",
        "description": "å­¦æ ¡ç®¡ç†MCPæœåŠ¡å™¨ï¼Œæä¾›å­¦ç”Ÿå’Œè¯¾ç¨‹ç®¡ç†åŠŸèƒ½ (é€šè¿‡ä»£ç†SSEè®¿é—®)"
    }
  }
}
```
> å…·ä½“ip+ç«¯å£æ ¹æ®è‡ªå·±serverçš„å®é™…æƒ…å†µä¿®æ”¹ã€‚æ— æœ¬åœ°pythonç¯å¢ƒæƒ…å†µä¸‹ä½¿ç”¨ï¼Œsseå±äºé•¿è¿æ¥ï¼Œå‡ºç°ä¸­æ–­çš„æƒ…å†µä¸‹éœ€è¦clienté‡æ–°å‘èµ·è¿æ¥ï¼ˆä»¥cursorä¸ºä¾‹ï¼šæ–­å¼€åéœ€è¦é‡æ–°åˆ·æ–°è·å–å·¥å…·åˆ—è¡¨ï¼‰ã€‚

**stdioé…ç½®ç¤ºä¾‹(æœ¬åœ°æ¨èï¼Œæ— éœ€å¯åŠ¨æœåŠ¡)**ï¼š
```json
{
    "mcpServers": {
        "example-stdio": {
            "command": "/Users/bab/devops/ai/litemcp/.venv/bin/python",
            "args": [
                "/Users/bab/devops/ai/litemcp/src/tools/demo/example_server.py"
            ],
            "env": {},
            "description": "ç¤ºä¾‹MCPæœåŠ¡å™¨ï¼Œæ¼”ç¤ºåŸºæœ¬åŠŸèƒ½"
        },
        "school-stdio": {
            "command": "/Users/bab/devops/ai/litemcp/.venv/bin/python",
            "args": [
                "/Users/bab/devops/ai/litemcp/src/tools/demo/school_server.py"
            ],
            "env": {},
            "description": "å­¦æ ¡ç®¡ç†MCPæœåŠ¡å™¨ï¼Œæä¾›å­¦ç”Ÿå’Œè¯¾ç¨‹ç®¡ç†åŠŸèƒ½"
        }
    }
}
```
> å…·ä½“è·¯å¾„æ ¹æ®è‡ªå·±serverçš„å®é™…æƒ…å†µä¿®æ”¹ã€‚éœ€è¦æœ¬åœ°å­˜åœ¨pythonç¯å¢ƒï¼ŒåŠå¯¹åº”mcp serverä»£ç ã€‚ä¸å­˜åœ¨æ–­è¿æƒ…å†µï¼Œå¯ä¸€ç›´ä¿æŒä½¿ç”¨ã€‚


è¯¦è§[é…ç½®mcp-clientç¤ºä¾‹](README.zh_CN.md#-é…ç½®mcp-clientç¤ºä¾‹)ã€‚

**âœ¨ ä»£ç†æœåŠ¡å™¨çš„ä¼˜åŠ¿**ï¼š
- ğŸ”— **å›ºå®šç«¯å£è®¿é—®**ï¼šå®¢æˆ·ç«¯é…ç½®ä¸€æ¬¡ï¼Œæ°¸ä¸å˜æ›´
- ğŸ§  **æ™ºèƒ½åè®®å¤„ç†**ï¼šè‡ªåŠ¨ç®¡ç†StreamableHttpå¤æ‚æ€§
- ğŸ”„ **sessionè‡ªåŠ¨ç®¡ç†**ï¼šé€æ˜åœ°å¤„ç†session_idçŠ¶æ€
- ğŸš€ **é›¶é…ç½®ä½“éªŒ**ï¼šMCPæœåŠ¡å™¨è‡ªåŠ¨æ³¨å†Œåˆ°ä»£ç†

## ğŸŒŸ ä»£ç†æœåŠ¡å™¨è¯¦è§£

### ä¸ºä»€ä¹ˆéœ€è¦ä»£ç†æœåŠ¡å™¨ï¼Ÿ

**ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜**ï¼š
- ğŸ”´ ç«¯å£åŠ¨æ€åˆ†é…ï¼Œå®¢æˆ·ç«¯é…ç½®é¢‘ç¹å˜æ›´
- ğŸ”´ StreamableHttpåè®®å¤æ‚ï¼Œéœ€è¦æ‰‹åŠ¨ç®¡ç†session_id
- ğŸ”´ æ¯ä¸ªMCPæœåŠ¡å™¨éƒ½éœ€è¦å•ç‹¬é…ç½®

**ä»£ç†æœåŠ¡å™¨è§£å†³æ–¹æ¡ˆ**ï¼š
- âœ… ç»Ÿä¸€è®¿é—®å…¥å£ï¼ˆå›ºå®šç«¯å£1888ï¼‰
- âœ… æ™ºèƒ½åè®®å¤„ç†ï¼ˆè‡ªåŠ¨åŒºåˆ†åˆå§‹åŒ–å’Œæ™®é€šè¯·æ±‚ï¼‰
- âœ… é€æ˜sessionç®¡ç†ï¼ˆå®¢æˆ·ç«¯æ— éœ€å…³å¿ƒsession_idï¼‰
- âœ… è‡ªåŠ¨æœåŠ¡å‘ç°ï¼ˆMCPæœåŠ¡å™¨è‡ªåŠ¨æ³¨å†Œï¼‰

### ğŸ”§ æ¶æ„åŸç†

StreamableHttpå¤„ç†æµç¨‹:
```mermaid
graph TD
    A[Cursorå®¢æˆ·ç«¯] --> B[ä»£ç†æœåŠ¡å™¨:1888]
    B --> C{è¯·æ±‚ç±»å‹æ£€æµ‹}
    C -->|initialize| D[StreamableHttpæ¨¡å¼]
    C -->|å…¶ä»–æ–¹æ³•| E[Messagesè½¬å‘æ¨¡å¼]
    
    D --> F[å»ºç«‹SSEè¿æ¥]
    F --> G[è·å–session_id]
    G --> H[ä¿å­˜sessionçŠ¶æ€]
    H --> I[å¼‚æ­¥å‘é€åˆå§‹åŒ–]
    I --> J[è½¬å‘SSEæµ]
    
    E --> K[æ£€æŸ¥å·²æœ‰session]
    K --> L[è‡ªåŠ¨æ·»åŠ session_id]
    L --> M[è½¬å‘åˆ°/messages/]
    M --> N[è¿”å›JSONå“åº”]
```

### ğŸŒ è®¿é—®è·¯å¾„è§„åˆ™

```
# ç»Ÿä¸€è®¿é—®å…¥å£
http://{server ip}:1888/sse/{server_name}    -> æ™ºèƒ½åè®®å¤„ç†
http://{server ip}:1888/mcp/{server_name}/*  -> HTTPåè®®è½¬å‘

# ç®¡ç†æ¥å£
http://{server ip}:1888/proxy/status         -> ä»£ç†çŠ¶æ€æŸ¥è¯¢
http://{server ip}:1888/proxy/mapping        -> æœåŠ¡å™¨æ˜ å°„æŸ¥è¯¢
http://{server ip}:1888/proxy/register       -> æ‰‹åŠ¨æ³¨å†ŒæœåŠ¡å™¨
```

### ğŸ”§ ä»£ç†æœåŠ¡å™¨é…ç½®è¯¦è§£

#### é…ç½®å‚æ•°è¯´æ˜

| å‚æ•° | ç±»å‹ | è¯´æ˜ | æ¨èå€¼ |
|------|------|------|--------|
| `enabled` | boolean | æ˜¯å¦å¯ç”¨ä»£ç†æœåŠ¡å™¨ | `true` |
| `host` | string | ç›‘å¬ä¸»æœºåœ°å€ï¼Œ"0.0.0.0"æ”¯æŒå¤–ç½‘è®¿é—® | `"0.0.0.0"` |
| `port` | int | ä»£ç†æœåŠ¡å™¨å›ºå®šç«¯å£ | `1888` |
| `timeout` | int | HTTPè¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ | `30` |
| `connect_timeout` | int | è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ | `10` |
| `mcp_prefix` | string | MCP HTTPè·¯å¾„å‰ç¼€ | `"mcp"` |
| `sse_prefix` | string | SSEè·¯å¾„å‰ç¼€ | `"sse"` |

é€šè¿‡LiteMCPåå‘ä»£ç†ï¼Œæ‚¨å¯ä»¥ä¸“æ³¨äºMCPå·¥å…·çš„ä¸šåŠ¡é€»è¾‘å¼€å‘ï¼Œè€Œæ— éœ€æ‹…å¿ƒå¤æ‚çš„åè®®ç»†èŠ‚å’Œç½‘ç»œé…ç½®ã€‚

## ğŸ“‹ å¯åŠ¨æ–¹å¼è¯¦è§£

### ğŸš€ ä¸€é”®å¯åŠ¨ï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒï¼‰

**è¶…çº§ç®€å•çš„æ–¹å¼ï¼ˆæ¨èæ—¥å¸¸ä½¿ç”¨ï¼‰**ï¼š
```bash
# ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡å™¨ï¼ˆåŒ…æ‹¬ä»£ç†ï¼‰
./scripts/manage.sh up

# æŸ¥çœ‹æœåŠ¡å™¨çŠ¶æ€  
./scripts/manage.sh ps

# ä¸€é”®åœæ­¢æ‰€æœ‰æœåŠ¡å™¨
./scripts/manage.sh down

# é‡å¯æ‰€æœ‰æœåŠ¡å™¨
./scripts/manage.sh restart
```

### ğŸ”§ å•ç‹¬å¯åŠ¨ï¼ˆæ¨èå¼€å‘è°ƒè¯•ï¼‰

**STDIOæ¨¡å¼ï¼ˆæœ¬åœ°å¼€å‘ï¼Œæ— éœ€å¯åŠ¨æœåŠ¡å™¨ï¼‰**ï¼š
```bash
# STDIOæ¨¡å¼ä¸éœ€è¦å¯åŠ¨æœåŠ¡å™¨ï¼Œç›´æ¥é…ç½®MCPå®¢æˆ·ç«¯å³å¯
echo "STDIOæ¨¡å¼ï¼šç›´æ¥é…ç½®MCPå®¢æˆ·ç«¯ï¼Œæ— éœ€é¢„å…ˆå¯åŠ¨æœåŠ¡å™¨"
```

**HTTPæ¨¡å¼ï¼ˆç½‘ç»œè®¿é—®ï¼‰**ï¼š
```bash
# ä½¿ç”¨cliå¯åŠ¨å•ä¸ªæœåŠ¡å™¨ - ExampleæœåŠ¡å™¨
python src/cli.py serve --server example --transport http

# ä½¿ç”¨cliå¯åŠ¨å•ä¸ªæœåŠ¡å™¨ - SchoolæœåŠ¡å™¨  
python src/cli.py serve --server school --transport http

# ä½¿ç”¨cliæŒ‡å®šç«¯å£å¯åŠ¨
python src/cli.py serve --server example --transport http --port 8001
```

**SSEæ¨¡å¼ï¼ˆWebé›†æˆï¼‰**ï¼š
```bash
# ä½¿ç”¨cliå¯åŠ¨å•ä¸ªæœåŠ¡å™¨ - ExampleæœåŠ¡å™¨
python src/cli.py serve --server example --transport sse

# ä½¿ç”¨cliå¯åŠ¨å•ä¸ªæœåŠ¡å™¨ - SchoolæœåŠ¡å™¨
python src/cli.py serve --server school --transport sse

# ä½¿ç”¨cliæŒ‡å®šç«¯å£å¯åŠ¨
python src/cli.py serve --server example --transport sse --port 8002
```

### ğŸ“Š æŸ¥çœ‹å¯ç”¨æœåŠ¡å™¨

```bash
python src/cli.py list
```

é¢„æœŸè¾“å‡ºï¼š
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ æœåŠ¡å™¨     â”ƒ æè¿°                               â”ƒ å·¥å…·ç¤ºä¾‹                     â”ƒ
â”¡â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”©
â”‚ example    â”‚ ç¤ºä¾‹å·¥å…·æœåŠ¡å™¨ - å±•ç¤ºæ ‡å‡†å¼€å‘æ¨¡å¼  â”‚ add_numbers, multiply_numbers â”‚
â”‚ school     â”‚ å­¦æ ¡ç®¡ç†æœåŠ¡å™¨ - å­¦ç”Ÿä¿¡æ¯ç®¡ç†      â”‚ add_student, get_students     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ“ˆ ä¼ è¾“æ¨¡å¼é€‰æ‹©æŒ‡å—

| æ¨¡å¼ | å¯åŠ¨æ–¹å¼ | é€‚ç”¨åœºæ™¯ | é…ç½®å¤æ‚åº¦ | æ¨èä½¿ç”¨ |
|------|----------|----------|------------|----------|
| **STDIO** | æ— éœ€å¯åŠ¨æœåŠ¡å™¨ | æœ¬åœ°å¼€å‘ã€Claude Desktopã€Cursor | â­ ç®€å• | é¦–æ¬¡æµ‹è¯• |
| **HTTP** | `python src/cli.py serve --server <name> --transport http` | ç½‘ç»œéƒ¨ç½²ã€è¿œç¨‹è®¿é—® | â­â­ ä¸­ç­‰ | APIé›†æˆ |
| **SSE** | `python src/cli.py serve --server <name> --transport sse` | Webé›†æˆã€æµè§ˆå™¨è¿æ¥ | â­â­ ä¸­ç­‰ | å®æ—¶åº”ç”¨ |
| **ä»£ç†æ¨¡å¼** | `./scripts/manage.sh up` | ç”Ÿäº§éƒ¨ç½²ã€å›¢é˜Ÿå…±äº« | â­ ç®€å• | **ğŸŒŸ å¼ºçƒˆæ¨è** |

**ğŸ’¡ ä½¿ç”¨å»ºè®®**ï¼š
- **æœ¬åœ°ä½¿ç”¨**ï¼šæ¨èSTDIOæ¨¡å¼å¿«é€Ÿä½“éªŒ
- **å›¢é˜Ÿåä½œ**ï¼šä½¿ç”¨ä»£ç†æ¨¡å¼ï¼Œç»Ÿä¸€è®¿é—®å…¥å£
- **ç”Ÿäº§éƒ¨ç½²**ï¼šä½¿ç”¨ä»£ç†æ¨¡å¼ + `./scripts/manage.sh up`

## ğŸ“‹ å®Œæ•´å‘½ä»¤åˆ—è¡¨
### âš¡ å¿«é€Ÿå‘½ä»¤ï¼ˆæ¨èæ—¥å¸¸ä½¿ç”¨ï¼‰

| å‘½ä»¤       | åŠŸèƒ½              | ç¤ºä¾‹ |
|----------|-----------------|------|
| `up`     | ğŸš€ å¯åŠ¨æ‰€æœ‰æœåŠ¡å™¨      | `./scripts/manage.sh up` |
| `down`   | â¹ï¸ åœæ­¢æ‰€æœ‰æœåŠ¡å™¨      | `./scripts/manage.sh down` |
| `reboot` | ğŸ”„ é‡å¯æ‰€æœ‰æœåŠ¡å™¨      | `./scripts/manage.sh reboot` |
| `ps`     | ğŸ“Š æŸ¥çœ‹æœåŠ¡å™¨çŠ¶æ€      | `./scripts/manage.sh ps` |
| `log`    | ğŸ“ æŸ¥çœ‹æ—¥å¿—ä¿¡æ¯       | `./scripts/manage.sh log` |
| `check`  | â¤ï¸ ç³»ç»Ÿå¥åº·æ£€æŸ¥       | `./scripts/manage.sh check` |
| `clear`  | ğŸ§¹ æ¸…ç†ä¸´æ—¶æ–‡ä»¶       | `./scripts/manage.sh clear` |
| `conf`   | âš™ï¸ æŸ¥çœ‹é…ç½®ä¿¡æ¯       | `./scripts/manage.sh conf` |
| `api`    | ğŸš€ åªå¯åŠ¨APIæœåŠ¡ | `./scripts/manage.sh api` |
| `proxy`  | ğŸš€ åªå¯åŠ¨ä»£ç†æœåŠ¡      | `./scripts/manage.sh proxy` |

### ğŸ“‹ è¯¦ç»†å‘½ä»¤ï¼ˆæ¨èè„šæœ¬ä½¿ç”¨ï¼‰

| å‘½ä»¤ | åŠŸèƒ½ | ç¤ºä¾‹ |
|------|------|------|
| `start` | å¯åŠ¨æ‰€æœ‰æœåŠ¡å™¨ | `./scripts/manage.sh start` |
| `stop` | åœæ­¢æ‰€æœ‰æœåŠ¡å™¨ | `./scripts/manage.sh stop --force` |
| `restart` | é‡å¯æ‰€æœ‰æœåŠ¡å™¨ | `./scripts/manage.sh restart` |
| `status` | æŸ¥çœ‹æœåŠ¡å™¨çŠ¶æ€ | `./scripts/manage.sh status` |
| `install` | å®‰è£…/æ›´æ–°ä¾èµ– | `./scripts/manage.sh install` |
| `logs` | æŸ¥çœ‹æ—¥å¿—åˆ—è¡¨ | `./scripts/manage.sh logs` |
| `clean` | æ¸…ç†æ—¥å¿—å’ŒPIDæ–‡ä»¶ | `./scripts/manage.sh clean` |
| `health` | ç³»ç»Ÿå¥åº·æ£€æŸ¥ | `./scripts/manage.sh health` |
| `config` | æ˜¾ç¤ºå½“å‰é…ç½® | `./scripts/manage.sh config` |

### ğŸ¯ æŒ‡å®šæœåŠ¡å™¨ç®¡ç†ï¼ˆæ–°åŠŸèƒ½ï¼‰

æ”¯æŒé€šè¿‡ `--name` æˆ– `-n` å‚æ•°æŒ‡å®šè¦æ“ä½œçš„å•ä¸ªæœåŠ¡å™¨ï¼š

| å‘½ä»¤ | åŠŸèƒ½ | ç¤ºä¾‹ |
|------|------|------|
| `up --name <æœåŠ¡å™¨>` | ğŸš€ å¯åŠ¨æŒ‡å®šæœåŠ¡å™¨ | `./scripts/manage.sh up --name example` |
| `down -n <æœåŠ¡å™¨>` | â¹ï¸ åœæ­¢æŒ‡å®šæœåŠ¡å™¨ | `./scripts/manage.sh down -n school` |
| `reboot --name <æœåŠ¡å™¨>` | ğŸ”„ é‡å¯æŒ‡å®šæœåŠ¡å™¨ | `./scripts/manage.sh reboot --name pm` |
| `start -n <æœåŠ¡å™¨>` | å¯åŠ¨æŒ‡å®šæœåŠ¡å™¨ | `./scripts/manage.sh start -n sonic` |
| `stop --name <æœåŠ¡å™¨>` | åœæ­¢æŒ‡å®šæœåŠ¡å™¨ | `./scripts/manage.sh stop --name fastbot` |
| `restart -n <æœåŠ¡å™¨>` | é‡å¯æŒ‡å®šæœåŠ¡å™¨ | `./scripts/manage.sh restart -n example` |

#### ä½¿ç”¨ç¤ºä¾‹

```bash
# å¯åŠ¨æŒ‡å®šæœåŠ¡å™¨ï¼ˆä¸¤ç§æ ¼å¼ç­‰æ•ˆï¼‰
./scripts/manage.sh up --name example
./scripts/manage.sh up -n example

# åœæ­¢æŒ‡å®šæœåŠ¡å™¨
./scripts/manage.sh down --name school
./scripts/manage.sh down -n school

# é‡å¯æŒ‡å®šæœåŠ¡å™¨ï¼ˆå¼€å‘æ—¶å¸¸ç”¨ï¼‰
./scripts/manage.sh reboot --name school
./scripts/manage.sh restart -n school

# å¯åŠ¨æ‰€æœ‰æœåŠ¡å™¨ï¼ˆä¿æŒåŸæœ‰åŠŸèƒ½ï¼‰
./scripts/manage.sh up
```

#### åº”ç”¨åœºæ™¯

1. **å¼€å‘æ–°æœåŠ¡**ï¼šæ·»åŠ æ–°æœåŠ¡ååªå¯åŠ¨è¯¥æœåŠ¡è¿›è¡Œæµ‹è¯•
   ```bash
   ./scripts/manage.sh up --name my_new_server
   ```

2. **ä¿®æ”¹ç°æœ‰æœåŠ¡**ï¼šä¿®æ”¹æŸä¸ªæœåŠ¡çš„ä»£ç ååªé‡å¯è¯¥æœåŠ¡
   ```bash
   ./scripts/manage.sh reboot --name example
   ```

3. **è°ƒè¯•ç‰¹å®šæœåŠ¡**ï¼šéœ€è¦è°ƒè¯•æŸä¸ªæœåŠ¡æ—¶å•ç‹¬æ“ä½œ
   ```bash
   ./scripts/manage.sh down --name problematic_server
   ./scripts/manage.sh up --name problematic_server
   ```

4. **èµ„æºèŠ‚çº¦**ï¼šå¼€å‘æ—¶ä¸éœ€è¦å¯åŠ¨æ‰€æœ‰æœåŠ¡
   ```bash
   ./scripts/manage.sh up -n example  # åªå¯åŠ¨éœ€è¦çš„æœåŠ¡
   ```

### é€‰é¡¹å‚æ•°

| é€‰é¡¹ | åŠŸèƒ½ | ç¤ºä¾‹ |
|------|------|------|
| `--name, -n <æœåŠ¡å>` | æŒ‡å®šè¦æ“ä½œçš„æœåŠ¡å™¨åç§° | `./scripts/manage.sh up --name example` |
| `--force` | å¼ºåˆ¶æ‰§è¡Œæ“ä½œ | `./scripts/manage.sh stop --force` |
| `--verbose` | æ˜¾ç¤ºè¯¦ç»†è¾“å‡ºï¼ˆåŒ…æ‹¬ç«¯å£åˆ†é…è°ƒè¯•ä¿¡æ¯ï¼‰ | `./scripts/manage.sh up --verbose` |
| `--dry-run` | åªæ˜¾ç¤ºæ“ä½œï¼Œä¸æ‰§è¡Œ | `./scripts/manage.sh start --dry-run` |

### ğŸ”§ è°ƒè¯•å’Œæ•…éšœæ’é™¤å‘½ä»¤

| å‘½ä»¤ | åŠŸèƒ½ | åº”ç”¨åœºæ™¯ | ç¤ºä¾‹ |
|------|------|----------|------|
| `up --verbose` | å¯åŠ¨å¹¶æ˜¾ç¤ºè¯¦ç»†è°ƒè¯•ä¿¡æ¯ | æ’æŸ¥å¯åŠ¨å¤±è´¥ã€ç«¯å£åˆ†é…é—®é¢˜ | `./scripts/manage.sh up --verbose` |
| `start --verbose` | å¯åŠ¨æ—¶æ˜¾ç¤ºç«¯å£åˆ†é…è¯¦æƒ… | è°ƒè¯•ç«¯å£å†²çªã€IPè·å–é—®é¢˜ | `./scripts/manage.sh start --verbose` |
| `start --verbose -n <æœåŠ¡å™¨>` | è°ƒè¯•ç‰¹å®šæœåŠ¡å™¨çš„å¯åŠ¨è¿‡ç¨‹ | å•ä¸ªæœåŠ¡å™¨æ•…éšœæ’æŸ¥ | `./scripts/manage.sh start --verbose -n example` |
| `diagnose` | è¿è¡Œå®Œæ•´çš„ç³»ç»Ÿè¯Šæ–­ | ç¯å¢ƒé—®é¢˜ã€ç«¯å£åˆ†é…å¼‚å¸¸ | `./scripts/manage.sh diagnose` |

#### è¯¦ç»†æ¨¡å¼åŠŸèƒ½è¯´æ˜

**`--verbose` å‚æ•°ä¼šæ˜¾ç¤ºä»¥ä¸‹è°ƒè¯•ä¿¡æ¯**ï¼š
- **ç¯å¢ƒä¿¡æ¯**ï¼šæ“ä½œç³»ç»Ÿã€Pythonç‰ˆæœ¬ã€ç½‘ç»œæ¥å£çŠ¶æ€
- **ç«¯å£åˆ†é…è¿‡ç¨‹**ï¼šæ™ºèƒ½ç«¯å£åˆ†é…çš„å®Œæ•´æ‰§è¡Œè¿‡ç¨‹
- **æ¨¡å—å¯¼å…¥çŠ¶æ€**ï¼šPythonæ¨¡å—åŠ è½½å’Œä¾èµ–æ£€æŸ¥
- **æœåŠ¡å™¨é…ç½®**ï¼šæ¯ä¸ªæœåŠ¡å™¨çš„è¯¦ç»†é…ç½®å‚æ•°
- **æ³¨å†Œè¡¨æ“ä½œ**ï¼šæœåŠ¡å™¨æ³¨å†Œå’Œæ¸…ç†çš„è¯¦ç»†è¿‡ç¨‹

**å…¸å‹ä½¿ç”¨åœºæ™¯**ï¼š
1. **é¦–æ¬¡éƒ¨ç½²**ï¼šéªŒè¯ç¯å¢ƒé…ç½®å’Œä¾èµ–
   ```bash
   ./scripts/manage.sh up --verbose
   ```

2. **ç«¯å£å†²çªæ’æŸ¥**ï¼šæŸ¥çœ‹ç«¯å£åˆ†é…é€»è¾‘
   ```bash
   ./scripts/manage.sh start --verbose -n example
   ```

3. **ç”Ÿäº§ç¯å¢ƒæ•…éšœ**ï¼šè·å–è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
   ```bash
   ./scripts/manage.sh diagnose
   ```

4. **å¼€å‘è°ƒè¯•**ï¼šéªŒè¯æ–°æœåŠ¡å™¨çš„é…ç½®
   ```bash
   ./scripts/manage.sh start --verbose -n my_new_server
   ```

### CLIå‘½ä»¤ï¼ˆå•ç‹¬ä½¿ç”¨ï¼‰

| å‘½ä»¤ | åŠŸèƒ½ | ç¤ºä¾‹ |
|------|------|------|
| `python src/cli.py list` | æŸ¥çœ‹æ‰€æœ‰å¯ç”¨æœåŠ¡å™¨ | `python src/cli.py list` |
| `python src/cli.py serve` | å¯åŠ¨å•ä¸ªæœåŠ¡å™¨ | `python src/cli.py serve --server example` |
| `python src/cli.py health` | ç³»ç»Ÿå¥åº·æ£€æŸ¥ | `python src/cli.py health` |

## âš™ï¸ é…ç½®æ–‡ä»¶

é…ç½®æ–‡ä»¶ä½äºæ ¹ç›®å½• `config/servers.yaml`ï¼Œå®šä¹‰äº†è¦å¯åŠ¨çš„æœåŠ¡å™¨ï¼š

```yaml
# LiteMCP æœåŠ¡å™¨å¯åŠ¨é…ç½®
# è¯¥é…ç½®æ–‡ä»¶å®šä¹‰äº†è¦å¯åŠ¨çš„æ‰€æœ‰MCPæœåŠ¡å™¨ã€ä»£ç†æœåŠ¡å™¨å’ŒAPIæœåŠ¡å™¨

# åå‘ä»£ç†æœåŠ¡å™¨é…ç½®
proxy_server:
  enabled: true                      # æ˜¯å¦å¯ç”¨ä»£ç†æœåŠ¡å™¨
  host: "0.0.0.0"                   # ç»‘å®šæ‰€æœ‰ç½‘å¡ï¼Œæ”¯æŒå¤–ç½‘è®¿é—®
  port: 1888                         # ä»£ç†æœåŠ¡å™¨å›ºå®šç«¯å£
  timeout: 30                        # HTTPè¯·æ±‚è¶…æ—¶æ—¶é—´
  connect_timeout: 10                # è¿æ¥è¶…æ—¶æ—¶é—´
  mcp_prefix: "mcp"                  # MCP HTTPè·¯å¾„å‰ç¼€
  sse_prefix: "sse"                  # SSEè·¯å¾„å‰ç¼€
  description: "MCPåå‘ä»£ç†æœåŠ¡å™¨ï¼Œæ”¯æŒStreamableHttpåè®®"

# MCPæœåŠ¡å™¨é…ç½®
mcp_servers:
  example:
    enabled: true                    # æ˜¯å¦å¯ç”¨è¯¥æœåŠ¡å™¨
    server_type: "example"           # æœåŠ¡å™¨ç±»å‹ï¼ˆå¯¹åº”AVAILABLE_SERVERSçš„keyï¼‰
    transport: "sse"                 # ä¼ è¾“åè®®: stdio/http/sse  
    host: null                       # è‡ªåŠ¨è·å–å½“å‰æœºå™¨IPï¼Œå¤–éƒ¨å¯è®¿é—®
    port: null                       # ç«¯å£å·ï¼Œnullè¡¨ç¤ºè‡ªåŠ¨åˆ†é…
    auto_restart: true               # æ˜¯å¦è‡ªåŠ¨é‡å¯
    description: "ç¤ºä¾‹æœåŠ¡å™¨"

  school:
    enabled: true
    server_type: "school"
    transport: "sse"
    host: null                       # è‡ªåŠ¨è·å–å½“å‰æœºå™¨IPï¼Œå¤–éƒ¨å¯è®¿é—®
    port: null                       # è‡ªåŠ¨åˆ†é…ç«¯å£
    auto_restart: true
    description: "å­¦æ ¡ç®¡ç†æœåŠ¡å™¨"

# APIæœåŠ¡å™¨é…ç½®  
api_server:
  enabled: true                      # æ˜¯å¦å¯ç”¨APIæœåŠ¡å™¨
  host: null                         # è‡ªåŠ¨è·å–å½“å‰æœºå™¨IPï¼Œå¤–éƒ¨å¯è®¿é—®
  port: 9000                         # APIæœåŠ¡å™¨ç«¯å£
  auto_restart: true                 # æ˜¯å¦è‡ªåŠ¨é‡å¯
  description: "é…ç½®APIæœåŠ¡å™¨"

# å…¨å±€é…ç½®
global:
  project_name: "LiteMCP"            # é¡¹ç›®åç§°
  log_dir: "logs"                    # æ—¥å¿—ç›®å½•
  pid_dir: "pids"                    # PIDæ–‡ä»¶ç›®å½•
  python_cmd: "python"               # Pythonå‘½ä»¤
  max_startup_wait: 30               # æœ€å¤§å¯åŠ¨ç­‰å¾…æ—¶é—´(ç§’)
  health_check_interval: 5           # å¥åº·æ£€æŸ¥é—´éš”(ç§’)
```

### ä»£ç†æœåŠ¡å™¨é…ç½®è¯´æ˜

| å‚æ•° | ç±»å‹ | è¯´æ˜ | æ¨èå€¼ |
|------|------|------|--------|
| `enabled` | boolean | æ˜¯å¦å¯ç”¨ä»£ç†æœåŠ¡å™¨ | `true` |
| `host` | string | ç›‘å¬ä¸»æœºåœ°å€ï¼Œ"0.0.0.0"æ”¯æŒå¤–ç½‘è®¿é—® | `"0.0.0.0"` |
| `port` | int | ä»£ç†æœåŠ¡å™¨å›ºå®šç«¯å£ | `1888` |
| `timeout` | int | HTTPè¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ | `30` |
| `connect_timeout` | int | è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ | `10` |
| `mcp_prefix` | string | MCP HTTPè·¯å¾„å‰ç¼€ | `"mcp"` |
| `sse_prefix` | string | SSEè·¯å¾„å‰ç¼€ | `"sse"` |

### è‡ªåŠ¨IPè·å–åŠŸèƒ½

**æ–°ç‰¹æ€§**ï¼šé…ç½® `host: null` æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è·å–å½“å‰æœºå™¨çš„IPåœ°å€ï¼Œä½¿æœåŠ¡å™¨å¯ä»¥è¢«å¤–éƒ¨è®¿é—®ã€‚

**é…ç½®ç¤ºä¾‹**ï¼š
```yaml
mcp_servers:
  example:
    host: null          # è‡ªåŠ¨è·å–æœºå™¨IPï¼Œå¦‚ 192.168.1.100
    port: null          # è‡ªåŠ¨åˆ†é…ç«¯å£ï¼Œå¦‚ 8001
```

**å¯åŠ¨æ•ˆæœ**ï¼š
```bash
./scripts/manage.sh up
# âœ… è‡ªåŠ¨è·å–åˆ°æœºå™¨IP: 192.168.1.100
# âœ… ä¸ºæœåŠ¡å™¨ example åˆ†é…ç«¯å£: 8001
# âœ… example å¯åŠ¨æˆåŠŸ (PID: 12345)
...
```

**ä¼ ç»Ÿé…ç½®å¯¹æ¯”**ï¼š
```yaml
# ä¼ ç»Ÿæ–¹å¼ï¼ˆä»…æœ¬åœ°è®¿é—®ï¼‰
host: "localhost"       # åªèƒ½æœ¬åœ°è®¿é—®
port: 8000             # æ‰‹åŠ¨æŒ‡å®šç«¯å£

# æ–°æ–¹å¼ï¼ˆå¤–éƒ¨å¯è®¿é—®ï¼‰
host: null             # è‡ªåŠ¨è·å–æœºå™¨IP
port: null             # è‡ªåŠ¨åˆ†é…ç«¯å£
```

### é…ç½®å‚æ•°è¯´æ˜

| å‚æ•° | ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| `enabled` | boolean | æ˜¯å¦å¯ç”¨è¯¥æœåŠ¡å™¨ | `true` / `false` |
| `server_type` | string | æœåŠ¡å™¨ç±»å‹ï¼Œå¯¹åº” `tools/__init__.py` ä¸­çš„æ³¨å†Œå | `"example"` |
| `transport` | string | ä¼ è¾“åè®® | `"stdio"` / `"http"` / `"sse"` |
| `host` | string/null | ç›‘å¬ä¸»æœºåœ°å€ï¼Œ`null` è¡¨ç¤ºè‡ªåŠ¨è·å–æœºå™¨IP | `"localhost"` / `null` |
| `port` | int/null | ç›‘å¬ç«¯å£ï¼Œ`null` è¡¨ç¤ºè‡ªåŠ¨åˆ†é… | `8000` / `null` |
| `auto_restart` | boolean | æ˜¯å¦è‡ªåŠ¨é‡å¯ï¼ˆé¢„ç•™åŠŸèƒ½ï¼‰ | `true` |
| `description` | string | æœåŠ¡å™¨æè¿° | `"ç¤ºä¾‹æœåŠ¡å™¨"` |

## ğŸŒ ä¼ è¾“æ¨¡å¼è¯¦è§£

### STDIOæ¨¡å¼

**ç‰¹ç‚¹**ï¼š
- æ ‡å‡†è¾“å…¥è¾“å‡ºé€šä¿¡
- æ— éœ€å¯åŠ¨æœåŠ¡å™¨è¿›ç¨‹
- é€‚åˆæœ¬åœ°å¼€å‘å’Œæ¡Œé¢åº”ç”¨

**ä½¿ç”¨åœºæ™¯**ï¼š
- Claude Desktopé›†æˆ
- Cursor IDEé›†æˆ
- æœ¬åœ°å¼€å‘è°ƒè¯•

**é…ç½®ç¤ºä¾‹**ï¼š
```bash
# æ— éœ€é¢„å…ˆå¯åŠ¨ï¼Œç›´æ¥é…ç½®MCPå®¢æˆ·ç«¯
python src/cli.py serve --server example  # ä»…ç”¨äºæµ‹è¯•
```

### HTTPæ¨¡å¼

**ç‰¹ç‚¹**ï¼š
- RESTful APIæ¥å£
- æ”¯æŒç½‘ç»œè®¿é—®
- æ ‡å‡†HTTPåè®®

**ä½¿ç”¨åœºæ™¯**ï¼š
- è¿œç¨‹æœåŠ¡éƒ¨ç½²
- å¾®æœåŠ¡æ¶æ„
- APIé›†æˆ

**å¯åŠ¨ç¤ºä¾‹**ï¼š
```bash
# å¯åŠ¨HTTPæœåŠ¡å™¨ï¼ˆå¤–éƒ¨è®¿é—®åœ°å€ä¼šè‡ªåŠ¨æ˜¾ç¤ºï¼‰
python src/cli.py serve --server example --transport http

# æˆ–ä½¿ç”¨ç®¡ç†è„šæœ¬å¯åŠ¨æ‰€æœ‰æœåŠ¡å™¨
./scripts/manage.sh up
```

### SSEæ¨¡å¼

**ç‰¹ç‚¹**ï¼š
- Server-Sent Events
- å®æ—¶æ•°æ®æ¨é€
- Webå‹å¥½

**ä½¿ç”¨åœºæ™¯**ï¼š
- Webåº”ç”¨é›†æˆ
- å®æ—¶æ•°æ®æµ
- æµè§ˆå™¨å®¢æˆ·ç«¯

**å¯åŠ¨ç¤ºä¾‹**ï¼š
```bash
# å¯åŠ¨SSEæœåŠ¡å™¨ï¼ˆå¤–éƒ¨è®¿é—®åœ°å€ä¼šè‡ªåŠ¨æ˜¾ç¤ºï¼‰
python src/cli.py serve --server example --transport sse

# æˆ–ä½¿ç”¨ç®¡ç†è„šæœ¬å¯åŠ¨æ‰€æœ‰æœåŠ¡å™¨
./scripts/manage.sh up
```

### æµ‹è¯•è¿æ¥

å¯åŠ¨MCPå®¢æˆ·ç«¯åï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ°ï¼š
- âœ… litemcp-exampleæœåŠ¡å™¨è¿æ¥æˆåŠŸ
- âœ… å¯ç”¨å·¥å…·ï¼šadd_numbers, multiply_numbers

åœ¨AIå®¢æˆ·ç«¯ä¸­å°è¯•ï¼š
```
è¯·å¸®æˆ‘è®¡ç®— 15 + 25
è¯·è®¡ç®— 3.14 Ã— 2
```

## ğŸ› ï¸ å¼€å‘æ–°å·¥å…·

### å®Œæ•´å¼€å‘æµç¨‹

ä»¥ä¸‹æ˜¯æ·»åŠ æ–°å·¥å…·çš„å®Œæ•´5æ­¥æµç¨‹ï¼š

#### ç¬¬1æ­¥ï¼šåˆ›å»ºæœåŠ¡å™¨æ–‡ä»¶

åœ¨ `tools/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„æœåŠ¡å™¨æ–‡ä»¶ï¼Œä¾‹å¦‚ `my_tool_server.py`ï¼š

```python
"""
æˆ‘çš„è‡ªå®šä¹‰å·¥å…· - æè¿°ä½ çš„å·¥å…·åŠŸèƒ½
"""

# ç®€æ´çš„å¯¼å…¥ - åŸºç¡€ç±»ä¼šè‡ªåŠ¨å¤„ç†è·¯å¾„é—®é¢˜
try:
    from src.tools.base import BaseMCPServer
except ImportError:
    from src.tools.base import BaseMCPServer

class MyToolMCPServer(BaseMCPServer):
    """æˆ‘çš„è‡ªå®šä¹‰å·¥å…·æœåŠ¡å™¨"""
    
    def __init__(self, name: str = "LiteMCP-MyTool"):
        # è°ƒç”¨çˆ¶ç±»åˆå§‹åŒ–ï¼Œè‡ªåŠ¨è·å¾—æ‰€æœ‰ä¼ è¾“æ¨¡å¼æ”¯æŒ
        super().__init__(name)
    
    def _register_tools(self):
        """å®ç°å·¥å…·æ³¨å†Œ - è¿™æ˜¯å”¯ä¸€éœ€è¦å®ç°çš„æ–¹æ³•"""
        
        @self.mcp.tool()
        def my_function(input_text: str) -> str:
            """
            æˆ‘çš„è‡ªå®šä¹‰å·¥å…·å‡½æ•°
            
            Args:
                input_text: è¾“å…¥æ–‡æœ¬
            
            Returns:
                å¤„ç†åçš„ç»“æœ
            """
            # åœ¨è¿™é‡Œå®ç°ä½ çš„å·¥å…·é€»è¾‘
            return f"å¤„ç†ç»“æœ: {input_text}"

# åˆ›å»ºå…¨å±€å®ä¾‹
my_tool_server = MyToolMCPServer()

if __name__ == "__main__":
    my_tool_server.run()
```

**ğŸ¯ æç®€å¼€å‘æ¨¡å¼**ï¼š
- âœ… åªéœ€4è¡Œå¯¼å…¥ä»£ç ï¼ˆè‡ªåŠ¨å¤„ç†è·¯å¾„ï¼‰
- âœ… è‡ªåŠ¨è·å¾—STDIOã€HTTPã€SSEä¸‰ç§ä¼ è¾“æ¨¡å¼
- âœ… ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶
- âœ… ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘å®ç°
- âœ… å¤åˆ¶ `tools/demo/example_server.py` ä½œä¸ºå¼€å‘èµ·ç‚¹

#### ç¬¬2æ­¥ï¼šæ³¨å†Œåˆ°æ¡†æ¶

åœ¨ `tools/__init__.py` ä¸­æ³¨å†Œæ–°æœåŠ¡å™¨ï¼š

```python
# åœ¨AVAILABLE_SERVERSå­—å…¸ä¸­æ·»åŠ 
"my_tool": {
    "description": "æˆ‘çš„è‡ªå®šä¹‰å·¥å…·",
    "module": "tools.my_tool_server", 
    "class": "MyToolMCPServer"
}

# æ·»åŠ å¯¼å…¥ï¼ˆå¦‚æœéœ€è¦ç›´æ¥å¯¼å…¥ï¼‰
from .my_tool_server import MyToolMCPServer

# æ›´æ–°__all__åˆ—è¡¨ï¼ˆå¦‚æœéœ€è¦ï¼‰
__all__ = [
    "AVAILABLE_SERVERS",
    "ExampleMCPServer",
    "MyToolMCPServer"  # æ–°å¢
]
```

**ğŸš€ æ–°ç‰¹æ€§ï¼šåŠ¨æ€å·¥å…·å‘ç°**
- âœ… **æ— éœ€æ‰‹åŠ¨ç»´æŠ¤toolsåˆ—è¡¨**ï¼šæ¡†æ¶è‡ªåŠ¨æ£€æµ‹å·²æ³¨å†Œçš„å·¥å…·
- âœ… **å®æ—¶æ›´æ–°**ï¼šå·¥å…·åˆ—è¡¨ä¸å®é™…ä»£ç ä¿æŒåŒæ­¥
- âœ… **å‡å°‘ç»´æŠ¤è´Ÿæ‹…**ï¼šåªéœ€å®ç° `_register_tools()` æ–¹æ³•å³å¯

#### ç¬¬3æ­¥ï¼šé…ç½®å¯åŠ¨å‚æ•°

åœ¨ `servers.yaml` ä¸­æ·»åŠ æ–°æœåŠ¡å™¨é…ç½®(å¦‚æœéœ€è¦ä½¿ç”¨manage.shå¯åŠ¨ï¼Œåœ¨æœåŠ¡å™¨éƒ¨ç½²æ¨èä½¿ç”¨manage.sh)ï¼š

```yaml
mcp_servers:
  # ... ç°æœ‰é…ç½® ...
  
  my_tool:                           # æ–°å¢æœåŠ¡å™¨
    enabled: true                    # æ˜¯å¦å¯ç”¨
    server_type: "my_tool"           # å¯¹åº”æ³¨å†Œè¡¨ä¸­çš„key
    transport: "sse"                 # ä¼ è¾“åè®®
    host: null                       # è‡ªåŠ¨è·å–æœºå™¨IP
    port: null                       # è‡ªåŠ¨åˆ†é…ç«¯å£
    auto_restart: true
    description: "æˆ‘çš„è‡ªå®šä¹‰å·¥å…·"
```

**ğŸš€ æ¡†æ¶ç‰¹æ€§**ï¼š
- âœ… **åŠ¨æ€æœåŠ¡å™¨å‘ç°**ï¼šæ— éœ€ä¿®æ”¹CLIä»£ç ï¼Œè‡ªåŠ¨å‘ç°æ–°æœåŠ¡å™¨
- âœ… **é…ç½®é©±åŠ¨å¯åŠ¨**ï¼šé€šè¿‡ `servers.yaml` æ§åˆ¶å¯åŠ¨å‚æ•°
- âœ… **é›¶ä»£ç ä¿®æ”¹**ï¼šæ·»åŠ æ–°æœåŠ¡å™¨æ— éœ€ä¿®æ”¹æ ¸å¿ƒä»£ç 

#### ç¬¬4æ­¥ï¼šæµ‹è¯•å·¥å…·

```bash
# æŸ¥çœ‹æ–°å·¥å…·
python src/cli.py list

# å¯åŠ¨æ–°æœåŠ¡å™¨ï¼ˆå•ç‹¬æµ‹è¯•ï¼Œä¸servers.yamlé…ç½®æ— å…³ï¼‰
python src/cli.py serve --server my_tool

# manage.shå…·ä½“å¯åŠ¨å“ªäº›æœåŠ¡ï¼Œä»¥ä»€ä¹ˆå½¢å¼å¯åŠ¨éƒ½ç”±servers.yamlé…ç½®å†³å®š
# æ‰¹é‡å¯åŠ¨ï¼ˆå¦‚æœæ–°é…ç½®çš„serverçš„enabledä¸ºtrueåˆ™åŒ…å«æ–°æœåŠ¡å™¨ï¼‰
./scripts/manage.sh up

# æŸ¥çœ‹å¯åŠ¨çŠ¶æ€
./scripts/manage.sh ps

# å¥åº·æ£€æŸ¥
./scripts/manage.sh check
```

#### ç¬¬5æ­¥ï¼šéªŒè¯åŠŸèƒ½

**æ–¹å¼1ï¼šä½¿ç”¨ç®¡ç†è„šæœ¬ï¼ˆæ¨èï¼‰**
```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡å™¨ï¼ˆåŒ…æ‹¬æ–°å·¥å…·ï¼‰
./scripts/manage.sh up

# æŸ¥çœ‹æœåŠ¡å™¨çŠ¶æ€å’Œè®¿é—®åœ°å€
./scripts/manage.sh ps
```

**æ–¹å¼2ï¼šMCPå®¢æˆ·ç«¯é…ç½®**
åœ¨MCPå®¢æˆ·ç«¯é…ç½®ä¸­æ·»åŠ æ–°å·¥å…·ï¼š

```json
{
  "mcpServers": {
    "litemcp-my-tool": {
      "command": "python",
      "args": ["/path/to/litemcp/tools/my_tool_server.py"],
      "env": {}
    }
  }
}
```

### å¼€å‘æœ€ä½³å®è·µ

1. **å·¥å…·å‘½å**ï¼šä½¿ç”¨æ¸…æ™°ã€æè¿°æ€§çš„åç§°
2. **æ–‡æ¡£å­—ç¬¦ä¸²**ï¼šä¸ºæ¯ä¸ªå·¥å…·æä¾›è¯¦ç»†çš„æè¿°ã€å‚æ•°è¯´æ˜å’Œè¿”å›å€¼è¯´æ˜
3. **é”™è¯¯å¤„ç†**ï¼šåœ¨å·¥å…·å‡½æ•°ä¸­æ·»åŠ é€‚å½“çš„å¼‚å¸¸å¤„ç†
4. **ç±»å‹æç¤º**ï¼šä½¿ç”¨Pythonç±»å‹æç¤ºæé«˜ä»£ç å¯è¯»æ€§
5. **æµ‹è¯•å…ˆè¡Œ**ï¼šä¸ºå·¥å…·ç¼–å†™å•å…ƒæµ‹è¯•
6. **é…ç½®ä¼˜å…ˆ**ï¼šä¼˜å…ˆä½¿ç”¨ `servers.yaml` é…ç½®ï¼Œæ”¯æŒå¤–éƒ¨è®¿é—®
7. **è‡ªåŠ¨åŒ–æµ‹è¯•**ï¼šä½¿ç”¨ `./scripts/manage.sh up` è¿›è¡Œé›†æˆæµ‹è¯•

## ğŸ“ é¡¹ç›®ç»“æ„

å¯åŠ¨åä¼šè‡ªåŠ¨åˆ›å»ºä»¥ä¸‹ç›®å½•ï¼š

```
litemcp/
â”œâ”€â”€ config/                     # é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ servers.yaml            # æœåŠ¡å™¨é…ç½®æ–‡ä»¶
â”œâ”€â”€ src/                        # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ cli.py                  # å‘½ä»¤è¡Œå·¥å…·
â”‚   â”œâ”€â”€ core/                   # æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ config.py           # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ utils.py            # å·¥å…·å‡½æ•°ï¼ˆåŒ…å«IPè·å–ï¼‰
â”‚   â”‚   â”œâ”€â”€ registry.py         # æœåŠ¡å™¨æ³¨å†Œè¡¨
â”‚   â”‚   â”œâ”€â”€ proxy_server.py     # ä»£ç†æœåŠ¡å™¨æ ¸å¿ƒ
â”‚   â”‚   â””â”€â”€ api_server.py       # APIæœåŠ¡å™¨æ ¸å¿ƒ
â”‚   â”œâ”€â”€ controller/             # APIæ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ __init__.py         # æ§åˆ¶å™¨åŒ…åˆå§‹åŒ–
â”‚   â”‚   â””â”€â”€ config_api.py       # FastAPIæ¥å£
â”‚   â””â”€â”€ tools/                  # MCPå·¥å…·æœåŠ¡å™¨
â”‚       â”œâ”€â”€ __init__.py         # æœåŠ¡å™¨æ³¨å†Œä¸­å¿ƒ
â”‚       â”œâ”€â”€ base.py             # åŸºç¡€æœåŠ¡å™¨ç±»
â”‚       â””â”€â”€ demo/               # è‡ªå®šä¹‰æœåŠ¡å™¨ç›®å½•
â”‚           â”œâ”€â”€ example_server.py   # ç¤ºä¾‹æœåŠ¡å™¨
â”‚           â”œâ”€â”€ school_server.py    # å­¦æ ¡ç®¡ç†æœåŠ¡å™¨
â”œâ”€â”€ docs/                      # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ USAGE.md               # å®Œæ•´ä½¿ç”¨æŒ‡å—
â”œâ”€â”€ runtime/                   # è¿è¡Œæ—¶æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ logs/                  # æ—¥å¿—æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ example.log        # ExampleæœåŠ¡å™¨æ—¥å¿—
â”‚   â”‚   â”œâ”€â”€ school.log         # SchoolæœåŠ¡å™¨æ—¥å¿—
â”‚   â”‚   â””â”€â”€ api_server.log     # APIæœåŠ¡å™¨æ—¥å¿—
â”‚   â”œâ”€â”€ pids/                  # PIDæ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ example.pid        # ExampleæœåŠ¡å™¨PID
â”‚   â”‚   â”œâ”€â”€ school.pid         # SchoolæœåŠ¡å™¨PID
â”‚   â”‚   â””â”€â”€ api_server.pid     # APIæœåŠ¡å™¨PID
â”‚   â”œâ”€â”€ cache/                 # ç¼“å­˜æ–‡ä»¶
â”‚   â””â”€â”€ registry.json          # æœåŠ¡å™¨æ³¨å†Œè¡¨ï¼ˆè¿è¡Œæ—¶ç”Ÿæˆï¼‰
â”œâ”€â”€ scripts/                   # è„šæœ¬ç›®å½•
â”‚   â””â”€â”€ manage.sh              # ç»Ÿä¸€ç®¡ç†è„šæœ¬
â”œâ”€â”€ tests/                     # æµ‹è¯•ç›®å½•
â”‚   â”œâ”€â”€ test_tools/            # å·¥å…·æµ‹è¯•
â”œâ”€â”€ cli.py                     # CLIå¯åŠ¨å™¨ï¼ˆå‘åå…¼å®¹ï¼‰
â”œâ”€â”€ manage.sh                  # ç®¡ç†è„šæœ¬å¯åŠ¨å™¨
â”œâ”€â”€ pyproject.toml             # é¡¹ç›®é…ç½®
â””â”€â”€ README.md                  # é¡¹ç›®è¯´æ˜
```

### æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

- **`manage.sh`**: ç»Ÿä¸€ç®¡ç†è„šæœ¬ï¼Œæ”¯æŒå¿«é€Ÿå’Œè¯¦ç»†ä¸¤ç§å‘½ä»¤é£æ ¼
- **`config/servers.yaml`**: æœåŠ¡å™¨é…ç½®æ–‡ä»¶ï¼Œå®šä¹‰äº†è¦å¯åŠ¨çš„æœåŠ¡å™¨ï¼š
- **`src/cli.py`**: å‘½ä»¤è¡Œæ¥å£ï¼Œæä¾›æœåŠ¡å™¨ç®¡ç†åŠŸèƒ½ï¼Œæ”¯æŒåŠ¨æ€å¯¼å…¥
- **`src/tools/__init__.py`**: æœåŠ¡å™¨æ³¨å†Œè¡¨ï¼Œç®¡ç†æ‰€æœ‰å¯ç”¨å·¥å…·
- **`src/tools/base.py`**: åŸºç¡€æœåŠ¡å™¨ç±»ï¼Œæä¾›ç»Ÿä¸€çš„å¼€å‘æ¡†æ¶
- **`src/tools/demo/example_server.py`**: ç¤ºä¾‹æœåŠ¡å™¨ï¼Œæ¼”ç¤ºåŸºæœ¬å®ç°æ¨¡å¼
- **`src/core/config.py`**: å…¨å±€é…ç½®ç®¡ç†
- **`src/core/utils.py`**: å·¥å…·å‡½æ•°ï¼ŒåŒ…å«è‡ªåŠ¨IPè·å–åŠŸèƒ½
- **`src/core/proxy_server.py`**: ä»£ç†æœåŠ¡å™¨æ ¸å¿ƒï¼Œæ™ºèƒ½åè®®å¤„ç†
- **`src/core/api_server.py`**: APIæœåŠ¡å™¨æ ¸å¿ƒï¼Œé…ç½®ç®¡ç†æ¥å£
- **`runtime/registry.json`**: è¿è¡Œæ—¶æœåŠ¡å™¨æ³¨å†Œè¡¨ï¼Œè‡ªåŠ¨ç»´æŠ¤

## ğŸ”§ å¸¸è§æ“ä½œåœºæ™¯

### åœºæ™¯1ï¼šå¼€å‘ç¯å¢ƒå¯åŠ¨

```bash
# ä¸€é”®å¯åŠ¨å¼€å‘ç¯å¢ƒ
./scripts/manage.sh up

# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡å™¨çŠ¶æ€
./scripts/manage.sh ps

# å®æ—¶æŸ¥çœ‹æ—¥å¿—
tail -f logs/*.log
```

### åœºæ™¯2ï¼šæŒ‡å®šæœåŠ¡å™¨å¼€å‘ï¼ˆæ–°åŠŸèƒ½ï¼‰

```bash
# å¼€å‘æ–°æœåŠ¡ï¼šåªå¯åŠ¨æŒ‡å®šæœåŠ¡å™¨è¿›è¡Œæµ‹è¯•
./scripts/manage.sh up --name my_new_server

# ä¿®æ”¹ç°æœ‰æœåŠ¡ï¼šé‡å¯æŒ‡å®šæœåŠ¡å™¨
./scripts/manage.sh reboot --name example

# è°ƒè¯•ç‰¹å®šæœåŠ¡ï¼šåœæ­¢åé‡æ–°å¯åŠ¨
./scripts/manage.sh down --name problematic_server
./scripts/manage.sh up --name problematic_server

# æŸ¥çœ‹æŒ‡å®šæœåŠ¡å™¨çŠ¶æ€
./scripts/manage.sh ps | grep example
```

### åœºæ™¯3ï¼šç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

```bash
# å…ˆå®‰è£…ä¾èµ–
poetry install

# æ£€æŸ¥ç³»ç»Ÿå¥åº·çŠ¶å†µ
./scripts/manage.sh check

# å¯åŠ¨æ‰€æœ‰æœåŠ¡å™¨
./scripts/manage.sh start

# éªŒè¯æœåŠ¡å™¨çŠ¶æ€
./scripts/manage.sh status
```

**Dockeréƒ¨ç½²**ï¼š
```dockerfile
FROM python:3.12-slim
COPY . /app
WORKDIR /app
RUN pip install -r requirements.txt
CMD ["./scripts/manage.sh", "up"]
```

### åœºæ™¯4ï¼šæœåŠ¡å™¨ç»´æŠ¤

```bash
# æ›´æ–°å•ä¸ªæœåŠ¡å™¨ä»£ç åé‡å¯
./scripts/manage.sh reboot --name pm

# æ‰¹é‡é‡å¯æ‰€æœ‰æœåŠ¡å™¨
./scripts/manage.sh reboot

# åœæ­¢ç‰¹å®šæœåŠ¡å™¨è¿›è¡Œç»´æŠ¤
./scripts/manage.sh down --name sonic

# ç»´æŠ¤å®Œæˆåé‡æ–°å¯åŠ¨
./scripts/manage.sh up --name sonic
```

### åœºæ™¯5ï¼šæ•…éšœæ’æŸ¥

```bash
# æŸ¥çœ‹ç³»ç»Ÿå¥åº·çŠ¶å†µ
./scripts/manage.sh check

# æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶åˆ—è¡¨
./scripts/manage.sh log

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡å™¨æ—¥å¿—
tail -f logs/example.log

# é‡å¯æœ‰é—®é¢˜çš„æœåŠ¡å™¨
./scripts/manage.sh reboot --name example
```

### åœºæ™¯6ï¼šæ¸…ç†å’Œç»´æŠ¤

```bash
# åœæ­¢æ‰€æœ‰æœåŠ¡å™¨
./scripts/manage.sh down

# æ¸…ç†æ—¥å¿—å’Œä¸´æ—¶æ–‡ä»¶
./scripts/manage.sh clear

# æ›´æ–°ä¾èµ–
poetry install

# é‡æ–°å¯åŠ¨
./scripts/manage.sh up
```

### åœºæ™¯7ï¼šå¼€å‘å·¥ä½œæµï¼ˆæ¨èï¼‰

```bash
# 1. å¼€å‘é˜¶æ®µï¼šåªå¯åŠ¨éœ€è¦çš„æœåŠ¡å™¨
./scripts/manage.sh up --name example

# 2. æµ‹è¯•é˜¶æ®µï¼šå¯åŠ¨ç›¸å…³æœåŠ¡å™¨
./scripts/manage.sh up --name school
./scripts/manage.sh up --name pm

# 3. é›†æˆæµ‹è¯•ï¼šå¯åŠ¨æ‰€æœ‰æœåŠ¡å™¨  
./scripts/manage.sh up

# 4. ä»£ç ä¿®æ”¹åï¼šé‡å¯ç‰¹å®šæœåŠ¡å™¨
./scripts/manage.sh reboot --name example

# 5. å‘å¸ƒå‰éªŒè¯ï¼šæ£€æŸ¥æ‰€æœ‰æœåŠ¡çŠ¶æ€
./scripts/manage.sh ps
./scripts/manage.sh check
```

### åœºæ™¯8ï¼šå•ç‹¬å¯åŠ¨ç‰¹å®šæœåŠ¡å™¨

```bash
# å¯åŠ¨å•ä¸ªæœåŠ¡å™¨ï¼ˆSTDIOæ¨¡å¼ï¼‰
python src/cli.py serve --server example

# å¯åŠ¨HTTPæ¨¡å¼ï¼ˆç½‘ç»œè®¿é—®ï¼‰
python src/cli.py serve --server example --transport http

# å¯åŠ¨SSEæ¨¡å¼ï¼ˆWebé›†æˆï¼‰
python src/cli.py serve --server example --transport sse
```

## ğŸš¨ æ•…éšœæ’é™¤

### ğŸ”§ ä»£ç†æœåŠ¡å™¨æ•…éšœæ’é™¤

#### 1. ä»£ç†æœåŠ¡å™¨æ— æ³•å¯åŠ¨
**ç—‡çŠ¶**ï¼š`./scripts/manage.sh up` æ˜¾ç¤ºä»£ç†å¯åŠ¨å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tulpn | grep 1888

# å¼ºåˆ¶æ¸…ç†ç«¯å£
sudo kill $(sudo lsof -t -i:1888)

# é‡æ–°å¯åŠ¨
./scripts/manage.sh down && ./scripts/manage.sh up
```

#### 2. MCPæœåŠ¡å™¨æ³¨å†Œå¤±è´¥
**ç—‡çŠ¶**ï¼šä»£ç†çŠ¶æ€æ˜¾ç¤º `"total_servers": 0`

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ‰‹åŠ¨é‡æ–°æ³¨å†Œ
curl -X POST http://{server ip}:1888/proxy/register \
  -H "Content-Type: application/json" \
  -d '{"server_name": "example", "host": "{server ip}", "port": 8000}'

# æ£€æŸ¥MCPæœåŠ¡å™¨æ˜¯å¦è¿è¡Œ
curl http://{server ip}:8000/sse
```

#### 3. Cursorè¿æ¥å¤±è´¥
**ç—‡çŠ¶**ï¼šCursoræ˜¾ç¤º "MCP error -32602: Invalid request parameters"

**è§£å†³æ–¹æ¡ˆ**ï¼š
- ç¡®ä¿ä½¿ç”¨å¤–ç½‘IPè€Œä¸æ˜¯localhost
- æ£€æŸ¥ä»£ç†æœåŠ¡å™¨çš„sessionç®¡ç†æ˜¯å¦æ­£å¸¸å·¥ä½œ
- æŸ¥çœ‹ä»£ç†æ—¥å¿—è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯

#### 4. StreamableHttpåè®®é—®é¢˜
**ç—‡çŠ¶**ï¼šå·¥å…·åˆ—è¡¨æ— æ³•åŠ è½½

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æŸ¥çœ‹ä»£ç†è¯¦ç»†æ—¥å¿—
tail -f runtime/logs/proxy_server.log

# æ£€æŸ¥sessionç®¡ç†
curl http://{server ip}:1888/proxy/status | jq '.servers'
```

### ğŸ”§ è°ƒè¯•æ¨¡å¼

**ä½¿ç”¨ `--verbose` å‚æ•°è·å–è¯¦ç»†è¯Šæ–­ä¿¡æ¯**ï¼š
```bash
# å¯åŠ¨æ—¶å¯ç”¨è¯¦ç»†æ¨¡å¼ï¼ˆæ¨èé¦–æ¬¡ä½¿ç”¨ï¼‰
./scripts/manage.sh up --verbose

# è°ƒè¯•ç‰¹å®šæœåŠ¡å™¨
./scripts/manage.sh start --verbose -n example

# è¿è¡Œç³»ç»Ÿè¯Šæ–­
./scripts/manage.sh diagnose
```

**è¯¦ç»†æ¨¡å¼æ˜¾ç¤ºçš„ä¿¡æ¯**ï¼š
- ğŸ” **ç¯å¢ƒæ£€æŸ¥**ï¼šPythonç‰ˆæœ¬ã€ä¾èµ–çŠ¶æ€ã€ç½‘ç»œæ¥å£
- ğŸ”§ **ç«¯å£åˆ†é…è¯¦æƒ…**ï¼šæ™ºèƒ½ç«¯å£åˆ†é…çš„å®Œæ•´æ‰§è¡Œè¿‡ç¨‹
- ğŸ“Š **é…ç½®è§£æ**ï¼šæ¯ä¸ªæœåŠ¡å™¨çš„è¯¦ç»†é…ç½®å‚æ•°
- ğŸ”„ **æ³¨å†Œè¡¨æ“ä½œ**ï¼šæœåŠ¡å™¨æ³¨å†Œå’Œæ¸…ç†çš„è¯¦ç»†è¿‡ç¨‹
- ğŸ› **é”™è¯¯è¯Šæ–­**ï¼šè¯¦ç»†çš„é”™è¯¯å †æ ˆå’Œå»ºè®®è§£å†³æ–¹æ¡ˆ

**ä¼ ç»Ÿè°ƒè¯•æ–¹å¼**ï¼š
```bash
# æˆ–è€…å•ç‹¬å¯åŠ¨ä»£ç†æœåŠ¡å™¨è°ƒè¯•
python src/cli.py proxy --host 0.0.0.0 --port 1888 --log-level DEBUG
```

### ğŸ” é€šç”¨æ•…éšœæ’é™¤

### ç«¯å£å†²çª
ç³»ç»Ÿä¼šè‡ªåŠ¨åˆ†é…å¯ç”¨ç«¯å£ï¼Œé¿å…å†²çªã€‚å¦‚æœä»æœ‰é—®é¢˜ï¼š
```bash
./scripts/manage.sh down --force  # å¼ºåˆ¶åœæ­¢æ‰€æœ‰æœåŠ¡å™¨
./scripts/manage.sh up            # é‡æ–°å¯åŠ¨
```

### æ³¨å†Œè¡¨é—®é¢˜
å¦‚æœæœåŠ¡å™¨çŠ¶æ€æ˜¾ç¤ºå¼‚å¸¸ï¼š
```bash
# ç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹å’Œä¿®å¤æ³¨å†Œè¡¨
./scripts/manage.sh up
# æˆ–æ‰‹åŠ¨è§¦å‘éªŒè¯
./scripts/manage.sh ps
```

### IPè·å–å¤±è´¥
å¦‚æœè‡ªåŠ¨IPè·å–å¤±è´¥ï¼š
```yaml
# åœ¨ servers.yaml ä¸­æ‰‹åŠ¨æŒ‡å®šIP
mcp_servers:
  example:
    host: "192.168.1.100"  # æ‰‹åŠ¨æŒ‡å®šIP
    # æˆ–
    host: "localhost"      # ä»…æœ¬åœ°è®¿é—®
```

### æœåŠ¡å™¨æ— æ³•å¯åŠ¨
```bash
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
tail -f logs/[æœåŠ¡å™¨å].log

# æ£€æŸ¥ç³»ç»Ÿå¥åº·çŠ¶å†µ
./scripts/manage.sh check

# æ¸…ç†å¹¶é‡å¯
./scripts/manage.sh clear
./scripts/manage.sh up
```

### æƒé™é—®é¢˜
```bash
# ç¡®ä¿è„šæœ¬æœ‰æ‰§è¡Œæƒé™
chmod +x manage.sh

# æ£€æŸ¥Pythonç¯å¢ƒ
python --version  # éœ€è¦ >= 3.12
```

### ğŸš€ è‡ªåŠ¨é…ç½®ç”Ÿæˆ

**ä»APIè·å–é…ç½®**ï¼š
```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
./scripts/manage.sh up

# è·å–Cursoré…ç½®
curl http://{server ip}:9000/config/cursor | jq .

# è·å–Claude Desktopé…ç½®
curl http://{server ip}:9000/config/claude | jq .

# è·å–ä»£ç†æ¨¡å¼é…ç½®ï¼ˆæ¨èï¼‰
curl http://{server ip}:9000/config/proxy | jq .
```

### ğŸ“Š é…ç½®éªŒè¯

**æµ‹è¯•è¿æ¥**ï¼š
```bash
# æµ‹è¯•ä»£ç†æœåŠ¡å™¨
curl http://{server ip}:1888/proxy/status

# æµ‹è¯•å…·ä½“æœåŠ¡å™¨
curl -X POST http://{server ip}:1888/sse/example \
  -H "Content-Type: application/json" \
  -d '{"method":"tools/list","jsonrpc":"2.0","id":1}'
```

**åœ¨MCPå®¢æˆ·ç«¯ä¸­éªŒè¯**ï¼š
- âœ… æœåŠ¡å™¨è¿æ¥æˆåŠŸ
- âœ… å¯ä»¥çœ‹åˆ°å·¥å…·åˆ—è¡¨
- âœ… å·¥å…·è°ƒç”¨æ­£å¸¸è¿”å›ç»“æœ

### ğŸ”§ å®¢æˆ·ç«¯é…ç½®æ•…éšœæ’é™¤

#### è¿æ¥å¤±è´¥
1. æ£€æŸ¥æœåŠ¡çŠ¶æ€ï¼š`./scripts/manage.sh ps`
2. æ£€æŸ¥ä»£ç†çŠ¶æ€ï¼š`curl http://{server ip}:1888/proxy/status`
3. éªŒè¯IPåœ°å€æ˜¯å¦æ­£ç¡®ï¼ˆæŸ¥çœ‹å®é™…å¯åŠ¨æ—¥å¿—ï¼‰

#### å·¥å…·ä¸æ˜¾ç¤º
1. æ£€æŸ¥æœåŠ¡å™¨æ³¨å†Œï¼š`curl http://{server ip}:1888/proxy/mapping`
2. æµ‹è¯•å·¥å…·åˆ—è¡¨ï¼šä¸Šé¢çš„curlå‘½ä»¤
3. æŸ¥çœ‹ä»£ç†æ—¥å¿—ï¼š`tail -f runtime/logs/proxy_server.log`

#### é…ç½®æ›´æ–°
å¦‚æœæ›´æ”¹äº†æœåŠ¡å™¨é…ç½®ï¼Œé‡å¯å¹¶è·å–æ–°åœ°å€ï¼š
```bash
./scripts/manage.sh reboot
./scripts/manage.sh ps  # æŸ¥çœ‹æ–°åœ°å€
```

### ğŸ’¡ æœ€ä½³å®è·µ

1. **é¦–é€‰ä»£ç†æ¨¡å¼**ï¼šç¨³å®šã€ç»Ÿä¸€ã€æ˜“ç»´æŠ¤
2. **å¼€å‘é˜¶æ®µ**ï¼šå¯ä»¥å…ˆç”¨STDIOæ¨¡å¼å¿«é€ŸéªŒè¯
3. **ç”Ÿäº§éƒ¨ç½²**ï¼šå¿…é¡»ä½¿ç”¨ä»£ç†æ¨¡å¼ï¼Œä¾¿äºè¿ç»´
4. **å›¢é˜Ÿå…±äº«**ï¼šç»Ÿä¸€ä½¿ç”¨ä»£ç†åœ°å€ï¼Œé¿å…å„è‡ªé…ç½®
5. **ç›‘æ§æ£€æŸ¥**ï¼šå®šæœŸæ£€æŸ¥ä»£ç†çŠ¶æ€ç¡®ä¿æœåŠ¡æ­£å¸¸

**æ¨èé…ç½®æµç¨‹**ï¼š
```bash
# 1. å¯åŠ¨æœåŠ¡
./scripts/manage.sh up

# 2. è·å–ä»£ç†åœ°å€  
./scripts/manage.sh ps

# 3. é…ç½®å®¢æˆ·ç«¯ä½¿ç”¨ä»£ç†åœ°å€
# 4. éªŒè¯è¿æ¥å’Œå·¥å…·åŠŸèƒ½
```

## â“ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æ·»åŠ æ–°çš„å·¥å…·æœåŠ¡å™¨ï¼Ÿ
A: æŒ‰ç…§ [å¼€å‘æ–°å·¥å…·](#-å¼€å‘æ–°å·¥å…·) ç« èŠ‚çš„5æ­¥æµç¨‹ï¼Œæ— éœ€ä¿®æ”¹CLIä»£ç ï¼

### Q: å¦‚ä½•å¯åŠ¨æŒ‡å®šçš„å•ä¸ªæœåŠ¡å™¨ï¼Ÿ
A: ä½¿ç”¨ `--name` æˆ– `-n` å‚æ•°æŒ‡å®šæœåŠ¡å™¨åç§°ï¼š
```bash
# å¯åŠ¨æŒ‡å®šæœåŠ¡å™¨
./scripts/manage.sh up --name example
./scripts/manage.sh up -n school

# é‡å¯æŒ‡å®šæœåŠ¡å™¨
./scripts/manage.sh reboot --name pm

# åœæ­¢æŒ‡å®šæœåŠ¡å™¨
./scripts/manage.sh down -n sonic
```

### Q: æŒ‡å®šæœåŠ¡å™¨å¯åŠ¨å’Œå…¨éƒ¨å¯åŠ¨æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
A: 
- **æŒ‡å®šæœåŠ¡å™¨å¯åŠ¨**ï¼šåªå¯åŠ¨æŒ‡å®šçš„MCPæœåŠ¡å™¨ï¼Œä¸å¯åŠ¨ä»£ç†å’ŒAPIæœåŠ¡å™¨
- **å…¨éƒ¨å¯åŠ¨**ï¼šå¯åŠ¨ä»£ç†æœåŠ¡å™¨ã€æ‰€æœ‰å¯ç”¨çš„MCPæœåŠ¡å™¨å’ŒAPIæœåŠ¡å™¨
- **ä½¿ç”¨åœºæ™¯**ï¼šæŒ‡å®šå¯åŠ¨é€‚åˆå¼€å‘è°ƒè¯•ï¼Œå…¨éƒ¨å¯åŠ¨é€‚åˆç”Ÿäº§ç¯å¢ƒ

### Q: --name å’Œ -n å‚æ•°æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
A: ä¸¤è€…æ•ˆæœå®Œå…¨ç›¸åŒï¼Œéƒ½ç”¨äºæŒ‡å®šè¦æ“ä½œçš„æœåŠ¡å™¨åç§°ï¼š
- `--name`ï¼šé•¿æ ¼å¼ï¼Œæ›´æ˜“è¯»ï¼Œé€‚åˆè„šæœ¬å’Œæ–‡æ¡£
- `-n`ï¼šçŸ­æ ¼å¼ï¼Œæ›´ç®€æ´ï¼Œé€‚åˆäº¤äº’å¼ä½¿ç”¨

### Q: å¦‚æœæŒ‡å®šçš„æœåŠ¡å™¨åç§°ä¸å­˜åœ¨ä¼šæ€æ ·ï¼Ÿ
A: ç³»ç»Ÿä¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯å¹¶åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„æœåŠ¡å™¨ï¼š
```bash
./scripts/manage.sh up --name nonexistent
# è¾“å‡ºï¼š
# âŒ æœåŠ¡å™¨ 'nonexistent' ä¸å­˜åœ¨äºé…ç½®ä¸­
# â„¹ï¸ å¯ç”¨çš„æœåŠ¡å™¨ï¼š
#   - example (å¯ç”¨)
#   - school (å¯ç”¨)
#   - pm (ç¦ç”¨)
```

### Q: æŒ‡å®šæœåŠ¡å™¨å¯åŠ¨æ—¶ä½¿ç”¨ä»€ä¹ˆç«¯å£ï¼Ÿ
A: ä»ç„¶ä½¿ç”¨æ™ºèƒ½ç«¯å£åˆ†é…æœºåˆ¶ï¼Œä»8000å¼€å§‹è‡ªåŠ¨åˆ†é…å¯ç”¨ç«¯å£ï¼Œå¹¶æ˜¾ç¤ºå®é™…çš„è®¿é—®åœ°å€ã€‚

### Q: ä¸ºä»€ä¹ˆæ¨èä½¿ç”¨ä»£ç†æ¨¡å¼ï¼Ÿ
A: ä»£ç†æ¨¡å¼æä¾›å›ºå®šè®¿é—®åœ°å€ã€æ™ºèƒ½åè®®å¤„ç†ã€è‡ªåŠ¨sessionç®¡ç†å’Œç»Ÿä¸€ç›‘æ§ï¼Œå¤§å¤§ç®€åŒ–äº†é…ç½®å’Œç»´æŠ¤å·¥ä½œã€‚

### Q: ä»£ç†æœåŠ¡å™¨çš„æ ¸å¿ƒä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ
A: 
- **å›ºå®šç«¯å£è®¿é—®**ï¼šå®¢æˆ·ç«¯é…ç½®ä¸€æ¬¡ï¼Œæ°¸ä¸å˜æ›´ï¼ˆç«¯å£1888ï¼‰
- **æ™ºèƒ½åè®®å¤„ç†**ï¼šè‡ªåŠ¨ç®¡ç†StreamableHttpå¤æ‚æ€§ï¼Œé€æ˜å¤„ç†session_id
- **ç»Ÿä¸€è®¿é—®å…¥å£**ï¼šæ‰€æœ‰MCPæœåŠ¡å™¨é€šè¿‡ä¸€ä¸ªä»£ç†è®¿é—®
- **è‡ªåŠ¨æœåŠ¡å‘ç°**ï¼šMCPæœåŠ¡å™¨å¯åŠ¨æ—¶è‡ªåŠ¨æ³¨å†Œåˆ°ä»£ç†
- **é›¶é…ç½®ä½“éªŒ**ï¼šæœåŠ¡å™¨é‡å¯è‡ªåŠ¨é‡æ–°æ³¨å†Œï¼Œæ— éœ€æ‰‹åŠ¨å¹²é¢„

### Q: å¦‚ä½•è®©æœåŠ¡å™¨æ”¯æŒå¤–éƒ¨è®¿é—®ï¼Ÿ
A: åœ¨ `config/servers.yaml` ä¸­é…ç½® `host: "0.0.0.0"`ï¼Œä»£ç†æœåŠ¡å™¨ä¼šè‡ªåŠ¨ç»‘å®šæ‰€æœ‰ç½‘å¡ã€‚

### Q: å¦‚ä½•é¿å…ç«¯å£å†²çªï¼Ÿ
A: é…ç½® `port: null`ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ†é…å¯ç”¨ç«¯å£ã€‚ä»£ç†ä½¿ç”¨å›ºå®šç«¯å£1888ã€‚

### Q: StreamableHttpå’ŒSSEæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
A: StreamableHttpæ˜¯Cursorä½¿ç”¨çš„åè®®ï¼ŒSSEæ˜¯æ ‡å‡†çš„Server-Sent Eventsã€‚ä»£ç†æœåŠ¡å™¨éƒ½æ”¯æŒï¼Œå¹¶æ™ºèƒ½å¤„ç†åè®®å·®å¼‚ã€‚

### Q: ä»£ç†æœåŠ¡å™¨å¦‚ä½•å¤„ç†sessionç®¡ç†ï¼Ÿ
A: 
- è‡ªåŠ¨ä¸ºæ¯ä¸ªserverç»´æŠ¤æ´»è·ƒsession
- é€æ˜åœ°ä¸ºå®¢æˆ·ç«¯è¯·æ±‚æ³¨å…¥session_id
- å®¢æˆ·ç«¯æ— éœ€å…³å¿ƒsessionçŠ¶æ€ï¼Œä»£ç†è‡ªåŠ¨å¤„ç†

### Q: å¦‚ä½•è¯Šæ–­ä»£ç†æœåŠ¡å™¨é—®é¢˜ï¼Ÿ
A: 
1. æŸ¥çœ‹ä»£ç†çŠ¶æ€ï¼š`curl http://{server ip}:1888/proxy/status`
2. æ£€æŸ¥æœåŠ¡å™¨æ˜ å°„ï¼š`curl http://{server ip}:1888/proxy/mapping`
3. æŸ¥çœ‹ä»£ç†æ—¥å¿—ï¼š`tail -f runtime/logs/proxy_server.log`
4. ä½¿ç”¨ç®¡ç†è„šæœ¬ï¼š`./scripts/manage.sh check`

### Q: ä»£ç†æœåŠ¡å™¨æ”¯æŒå“ªäº›ç®¡ç†æ¥å£ï¼Ÿ
A: 
- `GET /proxy/status` - æŸ¥çœ‹ä»£ç†å’Œæ‰€æœ‰æœåŠ¡å™¨çŠ¶æ€
- `GET /proxy/mapping` - æŸ¥çœ‹æœåŠ¡å™¨æ˜ å°„å…³ç³»
- `POST /proxy/register` - æ‰‹åŠ¨æ³¨å†ŒæœåŠ¡å™¨
- `DELETE /proxy/unregister/{name}` - æ³¨é”€æœåŠ¡å™¨

### Q: æœåŠ¡å™¨å¯åŠ¨å¤±è´¥æ€ä¹ˆåŠï¼Ÿ
A: 
1. æ£€æŸ¥æ—¥å¿—ï¼š`tail -f runtime/logs/[æœåŠ¡å™¨å].log`
2. å¥åº·æ£€æŸ¥ï¼š`./scripts/manage.sh check`
3. é‡å¯æœåŠ¡ï¼š`./scripts/manage.sh reboot`
4. æŸ¥çœ‹ä»£ç†çŠ¶æ€ç¡®è®¤æ³¨å†Œæƒ…å†µ

### Q: å¦‚ä½•åœ¨ä¸åŒä¼ è¾“æ¨¡å¼é—´åˆ‡æ¢ï¼Ÿ
A: ä¿®æ”¹ `config/servers.yaml` ä¸­çš„ `transport` å‚æ•°ï¼Œç„¶åé‡å¯ï¼š`./scripts/manage.sh reboot`

### Q: æ³¨å†Œè¡¨æ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ
A: `registry.json` æ˜¯è¿è¡Œæ—¶ç”Ÿæˆçš„æœåŠ¡å™¨çŠ¶æ€æ–‡ä»¶ï¼Œè®°å½•æ‰€æœ‰è¿è¡Œä¸­æœåŠ¡å™¨çš„ä¿¡æ¯ï¼Œæ”¯æŒè‡ªåŠ¨ä¿®å¤ã€‚

### Q: Poetryå’Œpipå“ªä¸ªæ›´å¥½ï¼Ÿ
A: ç®¡ç†è„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶ä½¿ç”¨åˆé€‚çš„åŒ…ç®¡ç†å™¨ï¼Œä¸¤è€…éƒ½æ”¯æŒã€‚

### Q: å¦‚ä½•éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Ÿ
A: 
1. é…ç½® `host: "0.0.0.0"` æ”¯æŒå¤–éƒ¨è®¿é—®
2. ä½¿ç”¨ `./scripts/manage.sh up` å¯åŠ¨æ‰€æœ‰æœåŠ¡
3. é…ç½®åå‘ä»£ç†ï¼ˆå¦‚nginxï¼‰
4. è®¾ç½®è¿›ç¨‹ç›‘æ§ï¼ˆå¦‚systemdï¼‰

### Q: å¼€å‘æ–°å·¥å…·è¿˜éœ€è¦ä¿®æ”¹CLIå—ï¼Ÿ
A: **ä¸éœ€è¦ï¼** ç°åœ¨ä½¿ç”¨åŠ¨æ€å¯¼å…¥æœºåˆ¶ï¼Œåªéœ€åœ¨ `tools/__init__.py` æ³¨å†Œå³å¯ã€‚

### Q: ä»£ç†æ¨¡å¼å’Œç›´è¿æ¨¡å¼çš„æ€§èƒ½å·®å¼‚ï¼Ÿ
A: ä»£ç†æ¨¡å¼å¢åŠ äº†ä¸€å±‚è½¬å‘ï¼Œä½†æ€§èƒ½å½±å“å¾®ä¹å…¶å¾®ã€‚è€Œä¸”ä»£ç†æä¾›çš„æ™ºèƒ½åè®®å¤„ç†å’Œsessionç®¡ç†å¸¦æ¥çš„ç¨³å®šæ€§è¿œè¶…è¿‡å¾®å°çš„æ€§èƒ½å¼€é”€ã€‚

### Q: å¦‚ä½•è‡ªå®šä¹‰ä»£ç†æœåŠ¡å™¨é…ç½®ï¼Ÿ
A: ä¿®æ”¹ `config/servers.yaml` ä¸­çš„ `proxy_server` éƒ¨åˆ†ï¼š
```yaml
proxy_server:
  enabled: true
  host: "0.0.0.0"          # ç›‘å¬åœ°å€
  port: 1888               # ç›‘å¬ç«¯å£
  timeout: 30              # è¯·æ±‚è¶…æ—¶
  connect_timeout: 10      # è¿æ¥è¶…æ—¶
  mcp_prefix: "mcp"        # HTTPè·¯å¾„å‰ç¼€
  sse_prefix: "sse"        # SSEè·¯å¾„å‰ç¼€
``` 

### Q: å¼€å‘æ—¶ä»€ä¹ˆåœºæ™¯ä½¿ç”¨æŒ‡å®šæœåŠ¡å™¨å¯åŠ¨ï¼Ÿ
A: 
- **å¼€å‘æ–°åŠŸèƒ½**ï¼šåªå¯åŠ¨ç›¸å…³æœåŠ¡å™¨ï¼ŒèŠ‚çœèµ„æº
- **è°ƒè¯•é—®é¢˜**ï¼šéš”ç¦»é—®é¢˜æœåŠ¡å™¨ï¼Œä¾¿äºæ’æŸ¥
- **ä»£ç ä¿®æ”¹**ï¼šä¿®æ”¹ç‰¹å®šæœåŠ¡å™¨åï¼Œåªé‡å¯è¯¥æœåŠ¡å™¨
- **åŠŸèƒ½æµ‹è¯•**ï¼šæµ‹è¯•ç‰¹å®šåŠŸèƒ½æ—¶ï¼Œåªå¯åŠ¨å¿…è¦çš„æœåŠ¡å™¨

### å¦‚ä½•åˆ©ç”¨AIç”ŸæˆMCPå·¥å…·æä¾›ç»™AIå½¢æˆé—­ç¯ï¼Ÿ
ç”Ÿæˆé—®é¢˜ç¤ºä¾‹ï¼š
```text
1ã€ç°åœ¨æœ‰ä¸€ä¸ªgetæ¥å£ï¼ˆè¿è¡Œæµ‹è¯•ä»»åŠ¡ï¼‰ï¼š
curl 'https://test-server.tech.cn/server/api/controller/testSuites/runSuite?id=43&strike=litemcp'
2ã€å‚æ•°è§£é‡Šï¼š
- id: éœ€è¦è¿è¡Œçš„ä»»åŠ¡IDï¼Œä¸èƒ½ä¸ºç©º
- strike: å¯ä»¥ç¡¬ç¼–ç ï¼Œæ— éœ€ä¿®æ”¹å›ºå®šä¸ºlitemcp
3ã€ä¸è¦åœ¨å…·ä½“å·¥å…·ä»¥å¤–æ·»åŠ ä¸€äº›å±€é™æ€§æ³¨é‡Šä¿¡æ¯ï¼Œæˆ‘ä»¬çš„serveråç»­è¿˜ä¼šæ‰©å±•å…¶ä»–å·¥å…·èƒ½åŠ›
4ã€å‚è€ƒ @example_server.py åœ¨  @sonic_server.py  å®ç°ä¸€ä¸‹è¿™ä¸ªmcp serverï¼Œå¹¶æ ¹æ® @USAGE.md ä¸­ ã€Š## ğŸ› ï¸ å¼€å‘æ–°å·¥å…·ã€‹ç« èŠ‚çš„è¯´æ˜æ³¨å†Œé…ç½®è¿™ä¸ªmcp server
```
åç»­æŒ‰ç…§æ–‡æ¡£[æœ¬åœ°å¯åŠ¨mcp server](README.zh_CN.md#-å¼€å‘æŒ‡å—)

### Q: `--verbose` å‚æ•°æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿä½•æ—¶ä½¿ç”¨ï¼Ÿ
A: `--verbose` å‚æ•°å¯ç”¨è¯¦ç»†è°ƒè¯•æ¨¡å¼ï¼Œæ˜¾ç¤ºå®Œæ•´çš„å¯åŠ¨å’Œç«¯å£åˆ†é…è¿‡ç¨‹ä¿¡æ¯ï¼š

**é€‚ç”¨åœºæ™¯**ï¼š
- **é¦–æ¬¡éƒ¨ç½²**ï¼šéªŒè¯ç¯å¢ƒé…ç½®å’Œä¾èµ–æ˜¯å¦æ­£ç¡®
- **ç«¯å£å†²çªæ’æŸ¥**ï¼šæŸ¥çœ‹æ™ºèƒ½ç«¯å£åˆ†é…çš„è¯¦ç»†è¿‡ç¨‹
- **å¯åŠ¨å¤±è´¥è¯Šæ–­**ï¼šè·å–è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œå †æ ˆ
- **å¼€å‘è°ƒè¯•**ï¼šéªŒè¯æ–°æœåŠ¡å™¨çš„é…ç½®å’Œå¯åŠ¨æµç¨‹
- **ç”Ÿäº§ç¯å¢ƒæ•…éšœ**ï¼šè·å–å®Œæ•´çš„ç³»ç»ŸçŠ¶æ€ä¿¡æ¯

**æ˜¾ç¤ºå†…å®¹**ï¼š
- ğŸ” ç¯å¢ƒä¿¡æ¯ï¼ˆæ“ä½œç³»ç»Ÿã€Pythonç‰ˆæœ¬ã€ç½‘ç»œæ¥å£ï¼‰
- ğŸ§© æ¨¡å—å¯¼å…¥çŠ¶æ€ï¼ˆPythonä¾èµ–æ£€æŸ¥ï¼‰
- ğŸ”§ ç«¯å£åˆ†é…è¯¦æƒ…ï¼ˆæ™ºèƒ½ç«¯å£åˆ†é…è¿‡ç¨‹ï¼‰
- ğŸ“Š æœåŠ¡å™¨é…ç½®ï¼ˆè¯¦ç»†çš„é…ç½®å‚æ•°è§£æï¼‰
- ğŸ”„ æ³¨å†Œè¡¨æ“ä½œï¼ˆæœåŠ¡å™¨æ³¨å†Œå’Œæ¸…ç†è¿‡ç¨‹ï¼‰

### Q: è¯¦ç»†æ¨¡å¼ä¸‹æ—¥å¿—å¤ªå¤šï¼Œå¦‚ä½•ç­›é€‰å…³é”®ä¿¡æ¯ï¼Ÿ
A: è¯¦ç»†æ¨¡å¼å·²ç»ä¼˜åŒ–è¿‡æ—¥å¿—è¾“å‡ºï¼Œåªæ˜¾ç¤ºå…³é”®æ­¥éª¤ï¼š

**æ­£å¸¸è¿è¡Œæ—¶**ï¼šåªæ˜¾ç¤ºå…³é”®çš„ç«¯å£åˆ†é…æ­¥éª¤å’Œç»“æœ
**å‡ºç°é”™è¯¯æ—¶**ï¼šæ˜¾ç¤ºå®Œæ•´çš„é”™è¯¯å †æ ˆå’Œè°ƒè¯•ä¿¡æ¯

å¦‚æœä»è§‰å¾—ä¿¡æ¯è¿‡å¤šï¼Œå¯ä»¥ä½¿ç”¨ï¼š
```bash
# å¯åŠ¨æ—¶é‡å®šå‘è¯¦ç»†æ—¥å¿—åˆ°æ–‡ä»¶
./scripts/manage.sh up --verbose 2>&1 | tee startup-debug.log

# ç­›é€‰å…³é”®é”™è¯¯ä¿¡æ¯
./scripts/manage.sh up --verbose 2>&1 | grep -E "(âŒ|ERROR|FAILED)"

# åªçœ‹ç«¯å£åˆ†é…ç»“æœ
./scripts/manage.sh up --verbose 2>&1 | grep -E "(ç«¯å£åˆ†é…ç»“æœ|æœ€ç»ˆåˆ†é…ç«¯å£)"
```

### Q: ç³»ç»Ÿè¯Šæ–­å‘½ä»¤ `diagnose` å’Œ `--verbose` æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
A: ä¸¤è€…ç”¨é€”ä¸åŒï¼š

**`--verbose` å‚æ•°**ï¼š
- åœ¨æ­£å¸¸å¯åŠ¨è¿‡ç¨‹ä¸­æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
- é€‚ç”¨äºå¯åŠ¨æ—¶çš„å®æ—¶è°ƒè¯•
- é‡ç‚¹å…³æ³¨å¯åŠ¨æµç¨‹å’Œç«¯å£åˆ†é…

**`diagnose` å‘½ä»¤**ï¼š
- ä¸“é—¨çš„ç³»ç»Ÿè¯Šæ–­å·¥å…·ï¼Œä¸å½±å“æ­£åœ¨è¿è¡Œçš„æœåŠ¡
- å…¨é¢æ£€æŸ¥ç³»ç»Ÿç¯å¢ƒã€ä¾èµ–ã€ç½‘ç»œçŠ¶æ€
- æä¾›æ•…éšœæ’é™¤å»ºè®®å’Œä¿®å¤æ–¹æ¡ˆ
- é€‚ç”¨äºæ’æŸ¥ç°æœ‰ç¯å¢ƒé—®é¢˜

æ¨èä½¿ç”¨ç­–ç•¥ï¼š
- **æ—¥å¸¸å¼€å‘**ï¼šä½¿ç”¨ `--verbose` è¿›è¡Œå¯åŠ¨è°ƒè¯•
- **ç¯å¢ƒé—®é¢˜**ï¼šä½¿ç”¨ `diagnose` è¿›è¡Œç³»ç»Ÿè¯Šæ–­
- **ç”Ÿäº§æ•…éšœ**ï¼šä¸¤è€…ç»“åˆä½¿ç”¨ï¼Œå…¨é¢æ’æŸ¥é—®é¢˜
